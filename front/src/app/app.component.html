<!--The content below is only a placeholder and can be replaced.-->
<div class="container-fluid">
  <div class="row">
      <div class="col-12 mt-4 mb-3">
          <h1>Checkpoint</h1>
      </div>
      <!-- Table in order to list all massage deliveries -->
      <div class="col-12 mt-4 mb-3">
          <h2>Playlist</h2>
      </div>
      <div class="offset-1 col-10">
        <table class="table">
          <thead class="thead-dark">
            <tr>
              <th scope="col">#</th>
              <th scope="col" id="delivery-name">Titre de la chanson</th>
              <th scope="col">Artist</th>
              <th scope="col">Album</th>
              <th scope="col">Picture</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let song of songs; index as i">
              <td>{{ i + 1 }}</td>
              <td>{{ song.name }}</td>
              <td>{{ song.artist }}</td>
              <td>{{ song.album }}</td>
              <td>{{ song.picture }}</td>
              <td>
                <button class="edit" title="Modifier cette prestation" (click)="onModify(massage.id)" routerLink="/admin/menu/massage" fragment="form"><i class="far fa-edit"></i></button>
                <button class="trash" title="Supprimer cette prestation" (click)="onDelete(massage.id)"><i class="fas fa-trash"></i></button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <!-- Form in order to create or edit changes-->
      <div id="form" class="col-12 mt-4 mb-3">
          <h2>Ajouter/Modifier une chanson</h2>
      </div>
      <div class="adding-delivery-block offset-1 col-10 mt-5 mb-5">
        <div class="container-fluid">
          <form #massageForm="ngForm">
            <div class="row">              
              <div class="col-7 p-0 pt-5">
                <div class="delivery-edit d-flex justify-content-between">
                  
                  <div class="col-5 p-0">
                    <label for="name">Nom de la chanson* :</label>
                  </div>
                  <div class="col-7">
                    <input id="name" class="placeholderSize" placeholder="Nom de la chanson" [(ngModel)]="song.name" type="text" name="name" #name="ngModel" required>
                  </div>
                </div>
                  
                  <div class="delivery-edit d-flex justify-content-between">
                    <div class="col-5 p-0">
                      <label for="description">Artist* :</label>
                    </div>
                    <div class="col-7 input-bigger">
                      <textarea class="placeholderSize" placeholder="Artist" id="artist" [(ngModel)]="song.artist" type="text" name="description" #description="ngModel" required></textarea>
                    </div>
                  </div>
              </div>
              <div class="adding-delivery-part col-5 p-0 pt-5">
                
                <div class="delivery-edit d-flex justify-content-between">
                  <div class="col-6 p-0">
                    <label for="price">Album* :</label>
                  </div>
                  <div class="col-6">
                    <input id="album" class="placeholderSize" placeholder=" " [(ngModel)]="song.album" type="text" name="album" #price="ngModel" required>
                  </div>
                </div>
                
                <div class="delivery-edit d-flex justify-content-between">
                  <div class="col-6 p-0">
                    <label for="time">Image* :</label>
                  </div>
                  <div class="col-6">
                    <input id="Image" class="placeholderSize" placeholder=" " [(ngModel)]="song.img" type="text" name="img" #time="ngModel" required>
                  </div>
                </div>
                <p class="font-italic mt-2" style="text-align:center;">Les champs avec * sont requis</p>
                <div class="row bottom-button">
                  <!-- Cancel button -->
                  <div class="massage-button offset-1 col-5">
                      <button type="reset" (click)="refresh()" class="test bg-green"><i class="fas fa-ban"></i>ANNULER</button>
                  </div>
                  <div class="massage-button col-5">
                    <!-- Add button in order to create delivery -->
                    <ng-container *ngIf="addMode; else editMode">
                      <button type="submit" [ngClass]="massageForm.form.valid ? 'valid' : 'invalid'" [disabled]="!massageForm.form.valid" (click)="onAdd()" class="test bg-green"><i class="far fa-check-square"></i>AJOUTER</button>    
                    </ng-container>
                    <!-- Edit button in order to edit delivery -->
                    <ng-template #editMode>
                      <button type="submit" [hidden]="!massageForm.form.valid" (click)="onUpdate()" class="test bg-green"><i class="far fa-check-square"></i>VALIDER</button>    
                    </ng-template>
                  </div>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
  </div>
</div>

