<h1 class="text-center mb-5">My Playlist</h1>

<!-- Button trigger modal -->
<button type="button" class="btn btn-primary text-center mb-3" data-toggle="modal" data-target="#exampleModal">
  Add a new song
</button>


<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Add a new song</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <input [(ngModel)]="song.name" type="text" placeholder="Name of the song" #name="ngModel">
        <input [(ngModel)]="song.artist" type="text" placeholder="Artist of the song" #artist="ngModel">
        <input [(ngModel)]="song.album" type="text" placeholder="Album of the song" #album="ngModel">
        <input [(ngModel)]="song.img" type="text" placeholder="Youtube link of the song" #img="ngModel">
      </div>
      <div class="modal-footer">
        <button (click)="refresh()" type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button (click)="onAdd()" type="button" class="btn btn-primary">Add</button>
      </div>
    </div>
  </div>
</div>


<div class="container-fluid">
  <div class="row d-flex justify-content-around">
    <div class="" *ngFor="let song of songs" class="card m-2" style="width: 18rem;">
      <iframe [src]="song.img | pipe" height="315"></iframe>
      <div class="card-body">
        <h5 class="card-title">{{song.name}}</h5>
        <p class="card-text">Artist : {{song.artist}}</p>
        <p class="card-text">Album : {{song.album}}</p>
        <a (click)="onDelete(song.id)" class="btn btn-primary">Delete song</a>
        <a data-toggle="modal" data-target="#modifyModal" (click)="onModify(song.id)" class="btn btn-primary">Modify
          song</a>
      </div>
    </div>
  </div>
</div>



<!-- Modal -->
<div class="modal fade" id="modifyModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Add a new song</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <input [(ngModel)]="song.name" type="text" placeholder="Name of the song" #name="ngModel">
        <input [(ngModel)]="song.artist" type="text" placeholder="Artist of the song" #artist="ngModel">
        <input [(ngModel)]="song.album" type="text" placeholder="Album of the song" #album="ngModel">
        <input [(ngModel)]="song.img" type="text" placeholder="Youtube link of the song" #img="ngModel">
      </div>
      <div class="modal-footer">
        <button (click)="refresh()" type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button (click)="onUpdate()" type="button" class="btn btn-primary">Update</button>
      </div>
    </div>
  </div>
</div>